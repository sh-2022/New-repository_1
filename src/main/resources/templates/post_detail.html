<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><title th:text="${post.title}">記事詳細</title></head>
<body>
<h1 th:text="${post.title}"></h1>
<p th:text="${post.content}"></p>

<hr>
<h2>コメント一覧</h2>
<ul>
    <li th:each="comment : ${post.comments}">
        <strong th:text="${comment.username}"></strong>：
        <span th:text="${comment.content}"></span>
        <small th:text="${#temporals.format(comment.createdAt, 'yyyy-MM-dd HH:mm')}"></small>
        <a th:href="@{/comments/delete/{id}(id=${comment.id})}">削除</a>
    </li>
</ul>

<hr>
<h2>コメントを書く</h2>
<form th:action="@{/comments/save}" method="post">
    <input type="hidden" name="postId" th:value="${post.id}" />
    名前：<input type="text" name="username" /><br>
    コメント：<br>
    <textarea name="content" rows="3"></textarea><br>
    <button type="submit">投稿</button>
</form>

<p><a href="/">← 一覧に戻る</a></p>
</body>
</html>